<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Aurora Linux (Web)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    * { box-sizing: border-box; font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; }

    body {
      margin: 0;
      height: 100vh;
      overflow: hidden;
      background: radial-gradient(circle at top, #1e293b, #020617);
      color: #e5e7eb;
    }

    /* ===== Top Panel ===== */
    #panel {
      height: 32px;
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 10px;
      font-size: 13px;
    }

    #panel-left { font-weight: 600; }
    #panel-right { opacity: 0.9; }

    /* ===== Desktop ===== */
    #desktop {
      position: absolute;
      top: 32px;
      bottom: 56px;
      left: 0;
      right: 0;
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, 84px);
      gap: 22px;
    }

    .icon { text-align: center; cursor: pointer; user-select: none; }
    .icon svg { width: 40px; height: 40px; margin-bottom: 6px; }
    .icon span { font-size: 12px; opacity: 0.9; }

    /* ===== Dock ===== */
    #dock {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 56px;
      background: rgba(15, 23, 42, 0.85);
      backdrop-filter: blur(12px);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 28px;
    }

    #dock button {
      background: none;
      border: none;
      color: #e5e7eb;
      cursor: pointer;
      padding: 6px;
    }

    #dock svg { width: 28px; height: 28px; }

    /* ===== Window ===== */
    .window {
      position: absolute;
      width: 70vw;
      height: 70vh;
      background: #020617;
      border-radius: 10px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      resize: both;
    }

    .titlebar {
      height: 32px;
      background: #020617;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 8px;
      border-bottom: 1px solid #1e293b;
      cursor: grab;
      flex-shrink: 0;
    }

    .window-controls { display: flex; gap: 8px; }
    .window-controls button {
      background: none;
      border: none;
      color: #cbd5f5;
      cursor: pointer;
      padding: 2px;
    }

    iframe { flex: 1; border: none; background: black; }

    .minimized { display: none; }

    .maximized {
      top: 32px !important;
      left: 0 !important;
      width: 100vw !important;
      height: calc(100vh - 88px) !important;
      border-radius: 0 !important;
      resize: none !important;
    }

    /* ===== Themes ===== */
    body.light {
      background: linear-gradient(#f8fafc, #e5e7eb);
      color: #020617;
    }

    body.light #panel,
    body.light #dock {
      background: rgba(226, 232, 240, 0.9);
      color: #020617;
    }

    body.light .window {
      background: #ffffff;
      color: #020617;
    }
  </style>
</head>
<body>

  <!-- ===== Top Panel ===== -->
  <div id="panel">
    <div id="panel-left">Aurora Linux</div>
    <div id="panel-right"><span id="clock"></span></div>
  </div>

  <!-- ===== Desktop ===== -->
  <div id="desktop">
    <div class="icon" onclick="openApp('Chrome', 'chrome.html')">
      <i data-lucide="globe"></i>
      <span>Chrome</span>
    </div>
    <div class="icon" onclick="openApp('Minecraft', 'minecraft.html')">
      <i data-lucide="box"></i>
      <span>Minecraft</span>
    </div>
    <div class="icon" onclick="openApp('Undertale', 'undertale.html')">
      <i data-lucide="heart"></i>
      <span>Undertale</span>
    </div>
    <div class="icon" onclick="openApp('Deltarune', 'delt.html')">
      <i data-lucide="heart"></i>
      <span>Deltarune</span>
    </div>
    <div class="icon" onclick="openApp('VS Code', 'https://bx3-cdn.gh-pages.wiki.gd/embed#https://vscode.dev')">
      <i data-lucide="code"></i>
      <span>VS Code</span>
    </div>
    <div class="icon" onclick="openSettings()">
      <i data-lucide="settings"></i>
      <span>Settings</span>
    </div>
  </div>

  <!-- ===== Dock ===== -->
  <div id="dock">
    <button onclick="openApp('Chrome', 'chrome.html')"><i data-lucide="globe"></i></button>
    <button onclick="openApp('VS Code', 'https://vscode.dev')"><i data-lucide="code"></i></button>
    <button onclick="openSettings()"><i data-lucide="settings"></i></button>
  </div>

  <script>
    lucide.createIcons();

    /* ===== Clock ===== */
    function updateClock() {
      const now = new Date();
      document.getElementById('clock').textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }
    setInterval(updateClock, 1000);
    updateClock();

    /* ===== Windows ===== */
    function openApp(title, src) {
      const win = document.createElement('div');
      win.className = 'window';
      win.style.top = Math.random() * 120 + 60 + 'px';
      win.style.left = Math.random() * 120 + 60 + 'px';

      win.innerHTML = `
        <div class="titlebar">
          <span>${title}</span>
          <div class="window-controls">
            <button onclick="this.closest('.window').classList.toggle('minimized')"><i data-lucide='minus'></i></button>
            <button onclick="this.closest('.window').classList.toggle('maximized')"><i data-lucide='square'></i></button>
            <button onclick="this.closest('.window').remove()"><i data-lucide='x'></i></button>
          </div>
        </div>
        <iframe src="${src}"></iframe>
      `;

      makeDraggable(win);
      document.body.appendChild(win);
      lucide.createIcons();
    }

    function openSettings() {
      const win = document.createElement('div');
      win.className = 'window';
      win.style.top = '100px';
      win.style.left = '100px';

      win.innerHTML = `
        <div class="titlebar">
          <span>Settings</span>
          <div class="window-controls">
            <button onclick="this.closest('.window').remove()"><i data-lucide='x'></i></button>
          </div>
        </div>
        <div style="padding:16px">
          <h3>Appearance</h3>
          <button onclick="toggleTheme()">Toggle Light / Dark</button>
          <h3 style="margin-top:20px">System</h3>
          <p>Aurora Linux (Web Edition)</p>
          <p>HTML Desktop Environment</p>
        </div>
      `;

      makeDraggable(win);
      document.body.appendChild(win);
      lucide.createIcons();
    }

    function toggleTheme() {
      document.body.classList.toggle('light');
    }

    function makeDraggable(win) {
      const bar = win.querySelector('.titlebar');
      let offsetX = 0, offsetY = 0, dragging = false;

      bar.addEventListener('mousedown', e => {
        dragging = true;
        offsetX = e.clientX - win.offsetLeft;
        offsetY = e.clientY - win.offsetTop;
        win.style.zIndex = Date.now();
      });

      document.addEventListener('mousemove', e => {
        if (!dragging || win.classList.contains('maximized')) return;
        win.style.left = e.clientX - offsetX + 'px';
        win.style.top = e.clientY - offsetY + 'px';
      });

      document.addEventListener('mouseup', () => dragging = false);
    }
  </script>

</body>
</html>
