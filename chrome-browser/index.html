<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Multi-Browser Interface</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      /* Chrome theme (default) */
      --primary-color: #4285f4;
      --secondary-color: #34a853;
      --accent-color: #ea4335;
      --warning-color: #fbbc05;
      --bg-color: #ffffff;
      --toolbar-bg: #f1f3f4;
      --tab-bg: #ffffff;
      --tab-active-bg: #ffffff;
      --text-color: #202124;
      --border-color: #dadce0;
      --hover-color: #f8f9fa;
      --font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      --browser-name: 'Google Chrome';
    }

    .opera-gx-theme {
      --primary-color: #ff1b44;
      --secondary-color: #00b0f4;
      --accent-color: #ff1b44;
      --warning-color: #ff9500;
      --bg-color: #1a1a2e;
      --toolbar-bg: #0f3460;
      --tab-bg: #16213e;
      --tab-active-bg: #1a1a2e;
      --text-color: #e6e6e6;
      --border-color: #2d3748;
      --hover-color: #2a2a3e;
      --font-family: 'Inter', 'Segoe UI', sans-serif;
      --browser-name: 'Opera GX';
    }

    .brave-theme {
      --primary-color: #fb542b;
      --secondary-color: #1d1d1d;
      --accent-color: #ff9500;
      --warning-color: #ce4d45;
      --bg-color: #0c0c0c;
      --toolbar-bg: #1a1a1a;
      --tab-bg: #1a1a1a;
      --tab-active-bg: #0c0c0c;
      --text-color: #f0f0f0;
      --border-color: #333333;
      --hover-color: #252525;
      --font-family: 'Inter', 'SF Pro Display', sans-serif;
      --browser-name: 'Brave';
    }

    .firefox-theme {
      --primary-color: #ff7139;
      --secondary-color: #00a7e0;
      --accent-color: #ff7139;
      --warning-color: #ffcd02;
      --bg-color: #0c0c0d;
      --toolbar-bg: #2b2a33;
      --tab-bg: #2b2a33;
      --tab-active-bg: #0c0c0d;
      --text-color: #fbfbfe;
      --border-color: #52525e;
      --hover-color: #3a3944;
      --font-family: 'Inter', 'SF Pro Text', sans-serif;
      --browser-name: 'Firefox';
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-family);
      background: var(--bg-color);
      color: var(--text-color);
      height: 100vh;
      overflow: hidden;
      transition: background-color 0.3s, color 0.3s;
    }

    /* Top Bar */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 16px;
      background: var(--toolbar-bg);
      border-bottom: 1px solid var(--border-color);
      height: 48px;
    }

    .window-controls {
      display: flex;
      gap: 12px;
    }

    .window-btn {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      cursor: pointer;
    }

    .close { background: #ff5f57; }
    .minimize { background: #ffbd2e; }
    .maximize { background: #28ca42; }

    .browser-info {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      font-weight: 500;
    }

    .browser-icon {
      width: 20px;
      height: 20px;
    }

    .theme-selector {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .theme-btn {
      padding: 4px 12px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 12px;
      transition: opacity 0.2s;
    }

    .theme-btn:hover {
      opacity: 0.9;
    }

    /* Navigation Bar */
    .nav-bar {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      background: var(--toolbar-bg);
      gap: 8px;
      height: 56px;
    }

    .nav-btn {
      background: none;
      border: none;
      color: var(--text-color);
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .nav-btn:hover {
      background-color: var(--hover-color);
    }

    .nav-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .url-bar-container {
      flex: 1;
      display: flex;
      align-items: center;
      background: var(--tab-active-bg);
      border-radius: 24px;
      padding: 0 16px;
      height: 40px;
      border: 1px solid var(--border-color);
    }

    .lock-icon {
      color: var(--secondary-color);
      margin-right: 8px;
    }

    #urlInput {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text-color);
      font-size: 14px;
      outline: none;
      font-family: var(--font-family);
    }

    .url-actions {
      display: flex;
      gap: 8px;
    }

    .action-btn {
      background: none;
      border: none;
      color: var(--text-color);
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .action-btn:hover {
      background-color: var(--hover-color);
    }

    /* Tabs */
    .tabs-container {
      display: flex;
      background: var(--toolbar-bg);
      padding: 0 16px;
      overflow-x: auto;
      height: 40px;
      border-bottom: 1px solid var(--border-color);
      scrollbar-width: thin;
    }

    .tab {
      display: flex;
      align-items: center;
      padding: 0 16px;
      background: var(--tab-bg);
      border: 1px solid var(--border-color);
      border-bottom: none;
      border-radius: 8px 8px 0 0;
      margin-right: 4px;
      min-width: 160px;
      max-width: 240px;
      cursor: pointer;
      transition: background-color 0.2s;
      position: relative;
    }

    .tab:hover {
      background-color: var(--hover-color);
    }

    .tab.active {
      background-color: var(--tab-active-bg);
      border-bottom: 1px solid var(--tab-active-bg);
      z-index: 1;
    }

    .tab-favicon {
      width: 16px;
      height: 16px;
      margin-right: 8px;
    }

    .tab-title {
      flex: 1;
      font-size: 13px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .tab-close {
      margin-left: 8px;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .tab-close:hover {
      opacity: 1;
    }

    .new-tab-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      min-width: 32px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 4px;
      margin-left: 4px;
      cursor: pointer;
      font-size: 18px;
      transition: opacity 0.2s;
    }

    .new-tab-btn:hover {
      opacity: 0.9;
    }

    /* Browser Content */
    .browser-content {
      height: calc(100vh - 184px);
      position: relative;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: white;
    }

    .loading-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 4px solid var(--border-color);
      border-top-color: var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 16px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Bookmarks Bar */
    .bookmarks-bar {
      display: flex;
      padding: 4px 16px;
      background: var(--toolbar-bg);
      border-bottom: 1px solid var(--border-color);
      height: 36px;
      align-items: center;
      gap: 16px;
    }

    .bookmark {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
      transition: background-color 0.2s;
    }

    .bookmark:hover {
      background-color: var(--hover-color);
    }

    .bookmark-icon {
      width: 16px;
      height: 16px;
    }

    /* Status Bar */
    .status-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 4px 16px;
      background: var(--toolbar-bg);
      border-top: 1px solid var(--border-color);
      height: 24px;
      font-size: 12px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .tabs-container {
        height: 48px;
      }
      
      .tab {
        min-width: 120px;
      }
      
      .bookmarks-bar {
        overflow-x: auto;
      }
    }
  </style>
</head>
<body>
  <!-- Top Bar with Window Controls -->
  <div class="top-bar">
    
    <center><div class="browser-info">
      <div class="browser-icon">
        <i class="fas fa-globe" style="color: var(--primary-color);"></i>
      </div>
      <span id="browserName">Google Chrome</span>
    </div>
    </center>
    
    <div class="theme-selector">
      <button class="theme-btn" onclick="setTheme('chrome')">Chrome</button>
      <button class="theme-btn" onclick="setTheme('opera-gx')">Opera GX</button>
      <button class="theme-btn" onclick="setTheme('brave')">Brave</button>
      <button class="theme-btn" onclick="setTheme('firefox')">Firefox</button>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs-container" id="tabsContainer">
    <!-- Tabs will be generated here -->
  </div>

  <!-- Navigation Bar -->
  <div class="nav-bar">
    <button class="nav-btn" id="backBtn" title="Back">
      <i class="fas fa-arrow-left"></i>
    </button>
    <button class="nav-btn" id="forwardBtn" title="Forward">
      <i class="fas fa-arrow-right"></i>
    </button>
    <button class="nav-btn" id="reloadBtn" title="Reload">
      <i class="fas fa-redo"></i>
    </button>
    <button class="nav-btn" id="homeBtn" title="Home">
      <i class="fas fa-home"></i>
    </button>
    
    <div class="url-bar-container">
      <i class="fas fa-lock lock-icon" id="lockIcon"></i>
      <input type="text" id="urlInput" placeholder="Search Google or type a URL" autocomplete="off" />
      <div class="url-actions">
        <button class="action-btn" id="bookmarkBtn" title="Bookmark this page">
          <i class="far fa-star"></i>
        </button>
        <button class="action-btn" onclick="loadUrl()" title="Go">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
    
    <button class="nav-btn" id="menuBtn" title="Menu">
      <i class="fas fa-ellipsis-v"></i>
    </button>
  </div>

  <!-- Bookmarks Bar -->
  <div class="bookmarks-bar" id="bookmarksBar">
    <!-- Bookmarks will be generated here -->
  </div>

  <!-- Browser Content -->
  <div class="browser-content">
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
      <div class="loading-spinner"></div>
      <div id="loadingText">Loading...</div>
    </div>
    <iframe id="viewer" src=""></iframe>
  </div>

  <!-- Status Bar -->
  <div class="status-bar">
    <div id="statusText">Ready</div>
    <div id="securityInfo">Not secure</div>
  </div>

  <script>
    // Browser state
    let currentTheme = 'chrome';
    let tabs = [];
    let currentTabIndex = 0;
    let bookmarks = [
      { name: 'Google', url: 'https://www.google.com', icon: 'üîç' },
      { name: 'YouTube', url: 'https://www.youtube.com', icon: '‚ñ∂Ô∏è' },
      { name: 'GitHub', url: 'https://github.com', icon: 'üêô' },
      { name: 'Twitter', url: 'https://twitter.com', icon: 'üê¶' },
      { name: 'Reddit', url: 'https://www.reddit.com', icon: 'üëæ' },
      { name: 'Gmail', url: 'https://mail.google.com', icon: 'üìß' },
      { name: 'Drive', url: 'https://drive.google.com', icon: '‚òÅÔ∏è' },
      { name: 'Wikipedia', url: 'https://wikipedia.org', icon: 'üìö' }
    ];

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Create initial tab
      createNewTab('New Tab', '');
      
      // Setup event listeners
      setupEventListeners();
      
      // Render bookmarks
      renderBookmarks();
      
      // Load default page
      loadUrl('https://www.google.com');
    });

    // Tab management
    function createNewTab(title, url, setActive = true) {
      const tabId = Date.now();
      const tab = {
        id: tabId,
        title: title,
        url: url,
        favicon: 'üåê'
      };
      
      tabs.push(tab);
      
      if (setActive) {
        currentTabIndex = tabs.length - 1;
      }
      
      renderTabs();
      return tabId;
    }

    function switchTab(index) {
      if (index >= 0 && index < tabs.length) {
        currentTabIndex = index;
        const tab = tabs[index];
        
        // Update URL input
        document.getElementById('urlInput').value = tab.url || '';
        
        // Update iframe
        if (tab.url) {
          const viewer = document.getElementById('viewer');
          viewer.src = getEmbedUrl(tab.url);
          updateSecurityIndicator(tab.url);
        }
        
        renderTabs();
        updateNavigationButtons();
      }
    }

    function closeTab(index, e) {
      if (e) e.stopPropagation();
      
      if (tabs.length <= 1) return;
      
      tabs.splice(index, 1);
      
      if (currentTabIndex >= index && currentTabIndex > 0) {
        currentTabIndex--;
      }
      
      if (currentTabIndex >= tabs.length) {
        currentTabIndex = tabs.length - 1;
      }
      
      renderTabs();
      
      if (tabs[currentTabIndex]) {
        switchTab(currentTabIndex);
      }
    }

    function renderTabs() {
      const container = document.getElementById('tabsContainer');
      container.innerHTML = '';
      
      tabs.forEach((tab, index) => {
        const tabEl = document.createElement('div');
        tabEl.className = `tab ${index === currentTabIndex ? 'active' : ''}`;
        tabEl.onclick = () => switchTab(index);
        
        tabEl.innerHTML = `
          <span class="tab-favicon">${tab.favicon}</span>
          <span class="tab-title">${tab.title || 'New Tab'}</span>
          <span class="tab-close" onclick="closeTab(${index}, event)">‚úï</span>
        `;
        
        container.appendChild(tabEl);
      });
      
      // Add new tab button
      const newTabBtn = document.createElement('button');
      newTabBtn.className = 'new-tab-btn';
      newTabBtn.innerHTML = '+';
      newTabBtn.onclick = () => createNewTab('New Tab', '');
      container.appendChild(newTabBtn);
    }

    // Bookmarks
    function renderBookmarks() {
      const container = document.getElementById('bookmarksBar');
      container.innerHTML = '';
      
      bookmarks.forEach(bookmark => {
        const bookmarkEl = document.createElement('div');
        bookmarkEl.className = 'bookmark';
        bookmarkEl.onclick = () => {
          document.getElementById('urlInput').value = bookmark.url;
          loadUrl(bookmark.url);
        };
        
        bookmarkEl.innerHTML = `
          <span class="bookmark-icon">${bookmark.icon}</span>
          <span>${bookmark.name}</span>
        `;
        
        container.appendChild(bookmarkEl);
      });
    }

    function addBookmark() {
      const url = document.getElementById('urlInput').value.trim();
      if (!url) return;
      
      const name = extractDomain(url) || 'New Bookmark';
      const icon = '‚≠ê';
      
      bookmarks.push({ name, url, icon });
      renderBookmarks();
      
      // Visual feedback
      const btn = document.getElementById('bookmarkBtn');
      const originalIcon = btn.innerHTML;
      btn.innerHTML = '<i class="fas fa-star"></i>';
      setTimeout(() => {
        btn.innerHTML = originalIcon;
      }, 1000);
    }

    // URL loading
    function loadUrl(url = null) {
      const input = url || document.getElementById('urlInput').value.trim();
      if (!input) return;
      
      let finalUrl = input;
      if (!input.startsWith('http://') && !input.startsWith('https://')) {
        if (input.includes('.')) {
          finalUrl = 'https://' + input;
        } else {
          finalUrl = 'https://www.google.com/search?q=' + encodeURIComponent(input);
        }
      }
      
      // Show loading
      const loadingOverlay = document.getElementById('loadingOverlay');
      const loadingText = document.getElementById('loadingText');
      loadingOverlay.style.display = 'flex';
      loadingText.textContent = `Loading ${extractDomain(finalUrl) || finalUrl}...`;
      
      // Update current tab
      if (tabs[currentTabIndex]) {
        tabs[currentTabIndex].url = finalUrl;
        tabs[currentTabIndex].title = extractDomain(finalUrl) || 'Loading...';
      }
      
      // Update iframe
      const embedUrl = getEmbedUrl(finalUrl);
      const viewer = document.getElementById('viewer');
      viewer.src = embedUrl;
      
      // Update UI
      document.getElementById('urlInput').value = finalUrl;
      updateSecurityIndicator(finalUrl);
      updateNavigationButtons();
      
      // Hide loading after a delay (iframe load event is unreliable due to CORS)
      setTimeout(() => {
        loadingOverlay.style.display = 'none';
        if (tabs[currentTabIndex]) {
          tabs[currentTabIndex].title = extractDomain(finalUrl) || finalUrl;
          renderTabs();
        }
      }, 1500);
    }

    function getEmbedUrl(url) {
      // No encoding as requested
      return `https://bx3-cdn.gh-pages.wiki.gd/embed#${url}`;
    }

    function updateSecurityIndicator(url) {
      const lockIcon = document.getElementById('lockIcon');
      const securityInfo = document.getElementById('securityInfo');
      
      if (url.startsWith('https://')) {
        lockIcon.className = 'fas fa-lock lock-icon';
        lockIcon.style.color = 'var(--secondary-color)';
        securityInfo.textContent = 'Secure';
      } else {
        lockIcon.className = 'fas fa-unlock lock-icon';
        lockIcon.style.color = 'var(--warning-color)';
        securityInfo.textContent = 'Not secure';
      }
    }

    // Navigation
    function setupEventListeners() {
      // Enter key in URL input
      document.getElementById('urlInput').addEventListener('keydown', e => {
        if (e.key === 'Enter') {
          loadUrl();
        }
      });
      
      // Navigation buttons
      document.getElementById('backBtn').onclick = () => {
        const viewer = document.getElementById('viewer');
        try {
          viewer.contentWindow.history.back();
        } catch(e) {
          console.log('Cannot go back');
        }
      };
      
      document.getElementById('forwardBtn').onclick = () => {
        const viewer = document.getElementById('viewer');
        try {
          viewer.contentWindow.history.forward();
        } catch(e) {
          console.log('Cannot go forward');
        }
      };
      
      document.getElementById('reloadBtn').onclick = () => {
        const viewer = document.getElementById('viewer');
        viewer.src = viewer.src;
        
        // Show loading
        const loadingOverlay = document.getElementById('loadingOverlay');
        loadingOverlay.style.display = 'flex';
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
        }, 1000);
      };
      
      document.getElementById('homeBtn').onclick = () => {
        loadUrl('https://www.google.com');
      };
      
      document.getElementById('bookmarkBtn').onclick = addBookmark;
      
      // Menu button
      document.getElementById('menuBtn').onclick = () => {
        alert(`${document.getElementById('browserName').textContent} Menu\n\nFeatures:\n‚Ä¢ Multiple browser themes\n‚Ä¢ Tab management\n‚Ä¢ Bookmarks\n‚Ä¢ URL navigation\n‚Ä¢ Security indicators\n‚Ä¢ Responsive design`);
      };
    }

    function updateNavigationButtons() {
      const viewer = document.getElementById('viewer');
      const backBtn = document.getElementById('backBtn');
      const forwardBtn = document.getElementById('forwardBtn');
      
      try {
        // These are limited due to iframe CORS restrictions
        backBtn.disabled = false;
        forwardBtn.disabled = false;
      } catch(e) {
        // Fallback
        backBtn.disabled = true;
        forwardBtn.disabled = true;
      }
    }

    // Theme management
    function setTheme(theme) {
      document.body.className = '';
      currentTheme = theme;
      
      switch(theme) {
        case 'chrome':
          document.getElementById('browserName').textContent = 'Google Chrome';
          break;
        case 'opera-gx':
          document.body.classList.add('opera-gx-theme');
          document.getElementById('browserName').textContent = 'Opera GX';
          break;
        case 'brave':
          document.body.classList.add('brave-theme');
          document.getElementById('browserName').textContent = 'Brave';
          break;
        case 'firefox':
          document.body.classList.add('firefox-theme');
          document.getElementById('browserName').textContent = 'Firefox';
          break;
      }
    }

    // Utility functions
    function extractDomain(url) {
      try {
        const urlObj = new URL(url);
        return urlObj.hostname.replace('www.', '');
      } catch(e) {
        return null;
      }
    }

    // Window controls (visual only)
    document.querySelectorAll('.window-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        if (this.classList.contains('close')) {
          if (confirm('Are you sure you want to close the browser?')) {
            document.body.innerHTML = '<h1 style="text-align:center;margin-top:50px;">Browser Closed</h1>';
          }
        } else if (this.classList.contains('minimize')) {
          document.body.style.opacity = '0.7';
          setTimeout(() => {
            document.body.style.opacity = '1';
          }, 300);
        } else if (this.classList.contains('maximize')) {
          if (document.fullscreenElement) {
            document.exitFullscreen();
          } else {
            document.documentElement.requestFullscreen();
          }
        }
      });
    });
  </script>
</body>
</html>
